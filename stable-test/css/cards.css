/* Praatkaartjes – cards.css (gedeeld)
   Eén bron van waarheid voor kaart-styling (grid + mini + uitleg).
*/

:root{
  --gap: 18px;
  --radius: 16px;
  --line: rgba(0,0,0,.10);
  --textBlue: rgba(48,96,136,.95);
  --ink: rgba(11,18,32,.82);
  --muted: rgba(11,18,32,.62);
  --cardBorderDark: rgba(120, 96, 190, 0.38);
  --menuTintRgb: 127, 207, 201;
  --focusRing: rgba(127,207,201,0.45);
  --focusRingDark: rgba(127,207,201,0.55);
  /* Default image alignment for cards (override per page if needed) */
  --cardImgPos: center;

  /* Z-lagen (vaste afspraken, voorkomt Android/iOS verschillen) */
  --z-base: 0;
  --z-cards: 10;
  --z-topbar: 30;
  --z-overlay: 40;
  --z-menu: 50;
 
  /* Sheet hoogte (KAARTEN/UITLEG) – groter zodat je verder omhoog kunt trekken */
  --sheetPageH: min(76vh, 720px);

  /* Pagina basis (valt onder de canvas/tint). Light mode = echt wit. */
  --pageBg: #FFFFFF;
}

*{ box-sizing: border-box; }

body{
  margin:0;
  /* Basis achter alles: bijna wit (kaart blijft warm off-white) */
  background: var(--pageBg);
  font-family: "IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  text-rendering: optimizeLegibility;
}

/* Donkere modus: aparte wereld (maar geen "zwart gat").
   De echte kleur komt uit de actieve tint; dit is alleen fallback/edges. */
html[data-contrast="dark"]{
  /* Geen zwart/grijs: gebruik de (donkere) actieve kaartkleur als basis. */
  --pageBg: rgb(var(--activeTintRgb, 18, 44, 74));
  --ink: rgba(240,245,250,.90);
  --muted: rgba(240,245,250,.70);
}

.srOnly{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  white-space:nowrap;border:0;
}

/* ============ Kaart component ============ */

.card{
  position:relative;
  border:0;
  background:transparent;
  padding:0;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
}

.card:focus-visible,
.pkFlip:focus-visible{
  outline: 2px solid var(--focusRing);
  outline-offset: 4px;
}

html[data-contrast="dark"] .card:focus-visible,
html[data-contrast="dark"] .pkFlip:focus-visible{
  outline-color: var(--focusRingDark);
}

.cardInner{
  position:relative;
  width:100%;
  aspect-ratio: var(--cardAspect, 85 / 55);
  border-radius: var(--radius);
  overflow:hidden;
  /* Kaartvlak: opaak, warm off-white (geen hard wit) */
  background: var(--pk-set-card, #FAFAF8);
  border: 1px solid rgba(0,0,0,0.015);
  /* Ultralichte 'papier' schaduw (nooit donker / geen glass) */
  box-shadow:
    0 6px 14px rgba(0,0,0,0.012),
    0 1px 0 rgba(255,255,255,0.75);
}

html[data-contrast="dark"] .cardInner{
  border: 0;
  box-shadow: none;
}

.card .bg,
.cardInner > img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
  object-fit: cover;
  object-position:center;
  border:0;
}

/* Vraag overlay op index-kaarten */
.card .q{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 0 18px;
  text-align:center;
  color: var(--textBlue);
}

/* Landscape (telefoon): iets meer rust/ruimte zodat tekst niet "geplet" oogt. */
@media (orientation: landscape) and (max-height: 520px){
  .card .q{ padding: 0 16px; }
}

/* Thema label in de kaart (klein, rustig) */
.themeTag{
  position:absolute;
  top: 10px;
  left: 12px;
  right: 12px;
  text-align: left;
  font-size: 8px;
  line-height: 1;
  letter-spacing: 0.02em;
  color: rgba(11,18,32,.42);
  font-weight: 500;
  text-transform: none;
  pointer-events: none;
  /* zachte 'glow' zodat het leesbaar blijft op lichte vlakken */
  text-shadow: 0 1px 0 rgba(255,255,255,.55);
}

.qText{
  font-weight: 400;
  /* iets rustiger/kleiner: matcht beter met jouw screenshot */
  font-size: 9px;
  line-height: 1.36;
  letter-spacing: -0.008em;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 4;
  overflow: hidden;
  max-height: calc(1.36em * 4);
}

@media (min-width: 980px){
  .qText{ font-size: 10px; }
}

/* ===== Landscape (tablet/desktop): vraagtekst groter =====
   Dit is de 'normale' landscape weergave (dus NIET de phone-landscape 'kaart-only' mode).
   We gebruiken !important om specifieke regels niet per ongeluk te verliezen.
*/
@media (orientation: landscape) and (min-height: 521px){
  .card .q .qText,
  .qText{
    font-size: clamp(12px, 1.8vw, 18px) !important;
    line-height: 1.45 !important;
  }
}

/* Mini kaart (menu thumbnail) gebruikt dezelfde .cardInner-achtige look */
.menuThumbCard{
  /* mini-kaartjes in menu moeten voelen als verkleinde index-kaart */
  width: var(--menuThumbSize, 56px);
  aspect-ratio: 85 / 55;
  height: auto;
  /* Zelfde radius als de index-kaart (grid) */
  border-radius: var(--menuThumbRadius, 12px);
  overflow:hidden;
  /* Zelfde kaartvlak als index-kaarten */
  background: var(--menuThumbBg, var(--pk-set-card, #FAFAF8));
  /* Geen extra rand; voorkomt 'dubbele' dikke rand */
  border: 0;
  box-shadow: none;
}

.menuThumbCard .bg,
.menuThumbCard img{
  width:100%;
  height:100%;
  display:block;
  object-fit: cover;
  object-position: var(--menuThumbImgPos, var(--cardImgPos, center));
  opacity: 1;
  filter: none;
  border:0;
  background: var(--pk-set-card, #FAFAF8);
  transform: none;
}


/* FORCE full-bleed in index (overrides accidental contain) */
.cardInner > img.bg,
.card .bg{
  object-fit: cover !important;
  object-position: var(--cardImgPos, center) !important;
}




/* ===== Revision: sheet hidden, subtle tint, less milky ===== */
/* (Let op) tint wordt gestuurd via --activeTintRgb / --activeTintA.
   Houd deze hier niet hard vast op een vaste kleur. */

/* White wash minder melkachtig: laat kleur leven */
.indexBg,
#indexBg{ }
.indexBg::after,
.whiteWash,
.white-wash{
  opacity: 0 !important;
}

/* Kaarten: gebruik de centrale variabele voor het kaartvlak.
   Geen hardcoded kleur hier, zodat per-set thema’s kunnen werken. */
/* Kaarten-index flip: geen witte plaat achter de kaart */
.pkFlipInner{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* (verwijderd) dubbele landscape-regel voor .qText — zie de regel hoger in dit bestand */

/* Let op: infoSheet visibility wordt door JS + [hidden] geregeld. */


/* FIX: force stable indigo background in dark mode */

.dark, .dark html, .dark body {
  background: #1b1840 !important; /* stable indigo */
}
/* prevent tinting in safe areas */
.dark .safe-area, .dark .statusbar, .dark .bottom-bar {
  background: #1b1840 !important;
}
/* calm blobs slightly */
.dark .blob {
  filter: saturate(0.85);
}



/* --- Release fix: menu thumbnails match index cards (full-bleed, same aspect) --- */
.menuItemThumb,
.menu-thumb,
.menuThumb,
.menu-item-thumb {
  width: var(--menuThumbSize, 56px);
  aspect-ratio: 85 / 55;
  border-radius: var(--menuThumbRadius, 12px);
  overflow: hidden;
  background: var(--menuThumbBg, transparent);
}

.menuItemThumb img,
.menu-thumb img,
.menuThumb img,
.menu-item-thumb img,
.menuItemThumb svg,
.menu-thumb svg,
.menuThumb svg,
.menu-item-thumb svg {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  object-position: var(--menuThumbImgPos, center);
}
/* If thumbnails are set as background-image on a div */
.menuItemThumb,
.menu-thumb,
.menuThumb,
.menu-item-thumb {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}



/* ---- landing tuning (v2) ---- */
.qr{ bottom: calc(env(safe-area-inset-bottom, 0px) + 56px) !important; }
.qr img{
  width: 72px !important;
  height: 72px !important;
  image-rendering: auto;
  filter: grayscale(100%) !important;
  opacity: 0.38 !important; /* zachter, maar nog scanbaar */
}
/* ----------------------------- */
